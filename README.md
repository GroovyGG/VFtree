
# VFtree

<!-- badges: start -->
<!-- badges: end -->

## Description


An R-package for visualization of Virulence Factors and Phylogenetic Tree of bacterial pan-genome

The goal of VFtree is to build a phylogenetic Tree based on the tree data and the present/absent sheet of the gene/factors to plot a circular prepresentation of the matched information. This package provide a pan-genome approach to easily illustrate the data among strains at the species level.


## Installation

You can install the released version of VFtree  GitHub using the following code:

``` r
 library(devtools)
 install github("<user name>/<package name>")
 library(<package name>)

```
To run the shinyApp

``` r
runVFtree()
```

## Overview

``` r
browseVignettes("VFtree")
```

This package contains 3 .R file composed of 11 functions to visualize the virulence factors along with the circular phylogenetic tree. THere are three plotting functions avaliable for users.

`combinedPlot()`: The main plotting function to combine the following two parts of the workflow.

`ringPlot()`: This function is used to plot the rings of factoer present/absent of that specific strain mapped in the tree based on the data from the table, the same id name mapped to tree data loop the column of the ring_table_data to plot each ring aroud the tree.

`treePlot()`: This function is used to inital a base tree ploting using ggplot2. This function is composed of two parts: the base tree plotting with only nodes present without any lines/paths and a loop which calling the nodeGroup function to adding data and add a nodeGroup each time by adding a layer of the ggplot.

`runVFtree()`: Is the function that launches the shiny app for this package.

Refer to package vignettes for more details. The package tree structure is provided below (this is optional).

An overview of the package is ullustrated below.

result plot
![GitHub Logo](.inst/extdata/image/image1.png)
![GitHub Logo](.inst/extdata/image/image2.png)


## Contributions

This is a basic example which shows you how to solve a common problem:

``` r
library("VFtree")
lsf.str("package:VFtree")
```

The author of the package is Bihan Zhu. The functions treePlot, ringPlot, CombinedPlot and were authored by Bihan. 

The functions CircularFunc was authored by xxx from stackoverflow. 

Part of the code for InfCriteria_v3 function has been taken from mclust R package. 

Section of the borrowed code is clearly indicated and referenced in the InfCriteria_calculation.R file, the R file corresponding to InfCriteria_v3 function and referenced in help file. Rest of the code was a contribution by Bihan. 

all sample data are generated by Bihan Zhu using generateData function provided in utility.R.The circleFun used in the pacakge is originally


## References


![GitHub Logo](./inst/extdata/image/pitch.png)

